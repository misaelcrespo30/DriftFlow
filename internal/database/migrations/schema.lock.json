{
  "version": 1,
  "tables": {
    "TenantUsers": {
      "columns": {
        "external_identity_id": "varchar(100) not null",
        "id": "varchar(36) primary key",
        "is_active": "boolean not null default false",
        "is_default": "boolean not null default false",
        "originated_user": "boolean not null default false",
        "relationship": "bigint not null",
        "tenant_id": "varchar(36) not null",
        "user_id": "varchar(36) not null"
      },
      "order": [
        "id",
        "user_id",
        "tenant_id",
        "relationship",
        "is_active",
        "is_default",
        "originated_user",
        "external_identity_id"
      ],
      "foreign_keys": [
        {
          "Column": "user_id",
          "RefTable": "Users",
          "RefColumn": "user_id"
        },
        {
          "Column": "tenant_id",
          "RefTable": "Tenants",
          "RefColumn": "tenant_id"
        }
      ]
    },
    "Tenants": {
      "columns": {
        "connection_string": "text not null",
        "firm_name": "varchar(200)",
        "is_available": "boolean not null default false",
        "is_data_seeded": "boolean not null default false",
        "last_updated": "timestamp not null",
        "misael": "varchar(50) not null default 'standard'",
        "padron": "varchar(100) unique",
        "plan_id": "text",
        "quantity_of_employees": "bigint not null default 0",
        "recovery_state": "varchar(50) not null",
        "seats_allowed": "bigint not null default 0",
        "seats_used": "bigint not null default 0",
        "service_plan": "varchar(50) not null default 'standard'",
        "should_delete": "boolean not null default false",
        "subscription_customer_id": "text",
        "subscription_id": "text",
        "subscription_item_id": "text",
        "tenant_id": "varchar(36) primary key",
        "tenant_name": "varchar(200) not null"
      },
      "order": [
        "tenant_id",
        "tenant_name",
        "service_plan",
        "recovery_state",
        "last_updated",
        "connection_string",
        "is_available",
        "is_data_seeded",
        "should_delete",
        "firm_name",
        "quantity_of_employees",
        "plan_id",
        "seats_allowed",
        "seats_used",
        "subscription_customer_id",
        "subscription_id",
        "subscription_item_id",
        "misael",
        "padron"
      ],
      "foreign_keys": [
        {
          "Column": "plan_id",
          "RefTable": "plans",
          "RefColumn": "plan_id"
        }
      ]
    },
    "Users": {
      "columns": {
        "access_failed_count": "bigint not null default 0",
        "email": "varchar(100) not null unique",
        "is_email_confirmed": "boolean not null default false",
        "is_lockout_enabled": "boolean not null default false",
        "is_phone_confirmed": "boolean not null default false",
        "lockout_end": "timestamp",
        "misael": "varchar(100) unique",
        "password_hash": "varchar(250) not null",
        "phone": "text",
        "security_stamp": "text",
        "user_id": "varchar(36) primary key",
        "username": "varchar(100) unique"
      },
      "order": [
        "user_id",
        "email",
        "username",
        "password_hash",
        "access_failed_count",
        "is_email_confirmed",
        "is_lockout_enabled",
        "lockout_end",
        "phone",
        "is_phone_confirmed",
        "security_stamp",
        "misael"
      ],
      "foreign_keys": []
    },
    "plans": {
      "columns": {
        "created_at": "timestamp not null",
        "deleted_at": "text",
        "external_id": "text",
        "is_disabled": "boolean not null default false",
        "max_seats": "integer not null",
        "min_seats": "integer not null",
        "name": "varchar(100) not null unique",
        "plan_id": "varchar(36) primary key",
        "updated_at": "timestamp not null",
        "version": "varchar(20)"
      },
      "order": [
        "plan_id",
        "name",
        "external_id",
        "max_seats",
        "min_seats",
        "is_disabled",
        "version",
        "created_at",
        "updated_at",
        "deleted_at"
      ],
      "foreign_keys": []
    }
  }
}